# Grafana 基本設定
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin
GF_INSTALL_PLUGINS=grafana-athena-datasource

# サーバー設定
GF_SERVER_ROOT_URL=http://localhost:3000
GF_SERVER_DOMAIN=localhost

# ログ設定
GF_LOG_LEVEL=debug

# Cookie 設定
GF_SECURITY_COOKIE_SAMESITE=lax
GF_SECURITY_COOKIE_SECURE=false

# --- Cognito (Identity Center連携) 用の設定 ---
GF_AUTH_GENERIC_OAUTH_ENABLED=true
GF_AUTH_GENERIC_OAUTH_NAME=AWS Identity Center
GF_AUTH_GENERIC_OAUTH_ALLOW_SIGN_UP=true

# Cognito クライアント情報（要変更）
GF_AUTH_GENERIC_OAUTH_CLIENT_ID=your-cognito-client-id
GF_AUTH_GENERIC_OAUTH_CLIENT_SECRET=your-cognito-client-secret

# Cognito エンドポイント（要変更）
GF_AUTH_GENERIC_OAUTH_SCOPES=openid profile email
GF_AUTH_GENERIC_OAUTH_AUTH_URL=https://your-domain.auth.ap-northeast-1.amazoncognito.com/oauth2/authorize
GF_AUTH_GENERIC_OAUTH_TOKEN_URL=https://your-domain.auth.ap-northeast-1.amazoncognito.com/oauth2/token
GF_AUTH_GENERIC_OAUTH_API_URL=https://your-domain.auth.ap-northeast-1.amazoncognito.com/oauth2/userInfo

# OAuth 追加設定
GF_AUTH_GENERIC_OAUTH_USE_PKCE=true
GF_AUTH_GENERIC_OAUTH_ID_TOKEN_ATTRIBUTE_NAME=id_token
GF_AUTH_GENERIC_OAUTH_EMAIL_ATTRIBUTE_PATH=email
GF_AUTH_GENERIC_OAUTH_LOGIN_ATTRIBUTE_PATH=email
GF_AUTH_STATE_COOKIE_MAX_AGE=300

# グループベースのロールマッピング（グループUUIDを設定）
GF_AUTH_GENERIC_OAUTH_ROLE_ATTRIBUTE_PATH=contains("custom:groups", 'your-admin-group-uuid') && 'Admin' || 'Viewer'
